<?xml version="1.0" encoding="UTF-8"?>
<!--$Id: servlet-service.xml 578865 2007-09-24 16:09:46Z reinhard $ -->
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:pipeline="http://cocoon.apache.org/schema/pipeline"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
                           http://cocoon.apache.org/schema/pipeline http://cocoon.apache.org/schema/pipeline/cocoon-pipeline-1.0.xsd"
       default-init-method="init">

  <bean name="com.computas.sublima.app.controller.SearchController"
        class="com.computas.sublima.app.controller.SearchController">
    <property name="sparqlDispatcher" ref="com.computas.sublima.query.SparqlDispatcher"/>
    <property name="appMan" ref="org.apache.cocoon.auth.ApplicationManager"/>
  </bean>

  <bean name="com.computas.sublima.app.controller.admin.FeedbackController"
        class="com.computas.sublima.app.controller.admin.FeedbackController">
    <property name="sparulDispatcher" ref="com.computas.sublima.query.SparulDispatcher"/>
    <property name="appMan" ref="org.apache.cocoon.auth.ApplicationManager"/>
  </bean>

  <bean name="com.computas.sublima.app.controller.admin.AdminController"
        class="com.computas.sublima.app.controller.admin.AdminController">
    <property name="sparqlDispatcher" ref="com.computas.sublima.query.SparqlDispatcher"/>
    <property name="sparulDispatcher" ref="com.computas.sublima.query.SparulDispatcher"/>
  </bean>

  <bean name="com.computas.sublima.app.controller.admin.PublisherController"
        class="com.computas.sublima.app.controller.admin.PublisherController">
    <property name="sparqlDispatcher" ref="com.computas.sublima.query.SparqlDispatcher"/>
    <property name="sparulDispatcher" ref="com.computas.sublima.query.SparulDispatcher"/>
  </bean>

  <bean name="com.computas.sublima.app.controller.admin.ResourceController"
        class="com.computas.sublima.app.controller.admin.ResourceController">
    <property name="sparqlDispatcher" ref="com.computas.sublima.query.SparqlDispatcher"/>
    <property name="sparulDispatcher" ref="com.computas.sublima.query.SparulDispatcher"/>
  </bean>

  <bean name="com.computas.sublima.app.controller.admin.TopicController"
        class="com.computas.sublima.app.controller.admin.TopicController">
    <property name="sparqlDispatcher" ref="com.computas.sublima.query.SparqlDispatcher"/>
    <property name="sparulDispatcher" ref="com.computas.sublima.query.SparulDispatcher"/>
    <property name="appMan" ref="org.apache.cocoon.auth.ApplicationManager"/>
  </bean>

  <bean name="com.computas.sublima.app.controller.admin.UserController"
        class="com.computas.sublima.app.controller.admin.UserController">
    <property name="sparqlDispatcher" ref="com.computas.sublima.query.SparqlDispatcher"/>
    <property name="sparulDispatcher" ref="com.computas.sublima.query.SparulDispatcher"/>
  </bean>

  <bean name="com.computas.sublima.app.controller.admin.LinkcheckController"
        class="com.computas.sublima.app.controller.admin.LinkcheckController">
    <property name="sparqlDispatcher" ref="com.computas.sublima.query.SparqlDispatcher"/>
    <property name="sparulDispatcher" ref="com.computas.sublima.query.SparulDispatcher"/>
  </bean>

  <!-- This is a simple security handler: -->
  <bean name="org.apache.cocoon.auth.SecurityHandler/Sublima"
        class="com.computas.sublima.app.controller.admin.LoginController"
        scope="singleton">
  </bean>

  <!--  This is the standard application -->
  <bean name="org.apache.cocoon.auth.Application/Sublima"
        class="org.apache.cocoon.auth.impl.StandardApplication"
        scope="singleton">
    <property name="securityHandler" ref="org.apache.cocoon.auth.SecurityHandler/Sublima"/>
  </bean>

</beans>
